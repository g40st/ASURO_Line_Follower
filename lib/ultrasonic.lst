GAS LISTING /tmp/ccFQmyVe.s 			page 1


   1               		.file	"ultrasonic.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.stabs	"/home/ghost/Project/LineFollower/",100,0,2,.Ltext0
   8               		.stabs	"./lib/ultrasonic.c",100,0,2,.Ltext0
   9               		.text
  10               	.Ltext0:
  11               		.stabs	"gcc2_compiled.",60,0,0,0
  12               		.stabs	"int:t(0,1)=r(0,1);-32768;32767;",128,0,0,0
  13               		.stabs	"char:t(0,2)=@s8;r(0,2);0;255;",128,0,0,0
  14               		.stabs	"long int:t(0,3)=@s32;r(0,3);020000000000;017777777777;",128,0,0,0
  15               		.stabs	"unsigned int:t(0,4)=r(0,4);0;0177777;",128,0,0,0
  16               		.stabs	"long unsigned int:t(0,5)=@s32;r(0,5);0;037777777777;",128,0,0,0
  17               		.stabs	"long long int:t(0,6)=@s64;r(0,6);01000000000000000000000;0777777777777777777777;",128,0,0,
  18               		.stabs	"long long unsigned int:t(0,7)=@s64;r(0,7);0;01777777777777777777777;",128,0,0,0
  19               		.stabs	"short int:t(0,8)=r(0,8);-32768;32767;",128,0,0,0
  20               		.stabs	"short unsigned int:t(0,9)=r(0,9);0;0177777;",128,0,0,0
  21               		.stabs	"signed char:t(0,10)=@s8;r(0,10);-128;127;",128,0,0,0
  22               		.stabs	"unsigned char:t(0,11)=@s8;r(0,11);0;255;",128,0,0,0
  23               		.stabs	"float:t(0,12)=r(0,1);4;0;",128,0,0,0
  24               		.stabs	"double:t(0,13)=r(0,1);4;0;",128,0,0,0
  25               		.stabs	"long double:t(0,14)=r(0,1);4;0;",128,0,0,0
  26               		.stabs	"short _Fract:t(0,15)=r(0,1);1;0;",128,0,0,0
  27               		.stabs	"_Fract:t(0,16)=r(0,1);2;0;",128,0,0,0
  28               		.stabs	"long _Fract:t(0,17)=r(0,1);4;0;",128,0,0,0
  29               		.stabs	"long long _Fract:t(0,18)=r(0,1);8;0;",128,0,0,0
  30               		.stabs	"unsigned short _Fract:t(0,19)=r(0,1);1;0;",128,0,0,0
  31               		.stabs	"unsigned _Fract:t(0,20)=r(0,1);2;0;",128,0,0,0
  32               		.stabs	"unsigned long _Fract:t(0,21)=r(0,1);4;0;",128,0,0,0
  33               		.stabs	"unsigned long long _Fract:t(0,22)=r(0,1);8;0;",128,0,0,0
  34               		.stabs	"_Sat short _Fract:t(0,23)=r(0,1);1;0;",128,0,0,0
  35               		.stabs	"_Sat _Fract:t(0,24)=r(0,1);2;0;",128,0,0,0
  36               		.stabs	"_Sat long _Fract:t(0,25)=r(0,1);4;0;",128,0,0,0
  37               		.stabs	"_Sat long long _Fract:t(0,26)=r(0,1);8;0;",128,0,0,0
  38               		.stabs	"_Sat unsigned short _Fract:t(0,27)=r(0,1);1;0;",128,0,0,0
  39               		.stabs	"_Sat unsigned _Fract:t(0,28)=r(0,1);2;0;",128,0,0,0
  40               		.stabs	"_Sat unsigned long _Fract:t(0,29)=r(0,1);4;0;",128,0,0,0
  41               		.stabs	"_Sat unsigned long long _Fract:t(0,30)=r(0,1);8;0;",128,0,0,0
  42               		.stabs	"short _Accum:t(0,31)=r(0,1);2;0;",128,0,0,0
  43               		.stabs	"_Accum:t(0,32)=r(0,1);4;0;",128,0,0,0
  44               		.stabs	"long _Accum:t(0,33)=r(0,1);8;0;",128,0,0,0
  45               		.stabs	"long long _Accum:t(0,34)=r(0,1);8;0;",128,0,0,0
  46               		.stabs	"unsigned short _Accum:t(0,35)=r(0,1);2;0;",128,0,0,0
  47               		.stabs	"unsigned _Accum:t(0,36)=r(0,1);4;0;",128,0,0,0
  48               		.stabs	"unsigned long _Accum:t(0,37)=r(0,1);8;0;",128,0,0,0
  49               		.stabs	"unsigned long long _Accum:t(0,38)=r(0,1);8;0;",128,0,0,0
  50               		.stabs	"_Sat short _Accum:t(0,39)=r(0,1);2;0;",128,0,0,0
  51               		.stabs	"_Sat _Accum:t(0,40)=r(0,1);4;0;",128,0,0,0
  52               		.stabs	"_Sat long _Accum:t(0,41)=r(0,1);8;0;",128,0,0,0
  53               		.stabs	"_Sat long long _Accum:t(0,42)=r(0,1);8;0;",128,0,0,0
  54               		.stabs	"_Sat unsigned short _Accum:t(0,43)=r(0,1);2;0;",128,0,0,0
  55               		.stabs	"_Sat unsigned _Accum:t(0,44)=r(0,1);4;0;",128,0,0,0
  56               		.stabs	"_Sat unsigned long _Accum:t(0,45)=r(0,1);8;0;",128,0,0,0
  57               		.stabs	"_Sat unsigned long long _Accum:t(0,46)=r(0,1);8;0;",128,0,0,0
GAS LISTING /tmp/ccFQmyVe.s 			page 2


  58               		.stabs	"void:t(0,47)=(0,47)",128,0,0,0
  59               		.stabs	"./lib/inc/asuro.h",130,0,0,0
  60               		.stabs	"/usr/lib/avr/include/avr/io.h",130,0,0,0
  61               		.stabs	"/usr/lib/avr/include/avr/sfr_defs.h",130,0,0,0
  62               		.stabs	"/usr/lib/avr/include/inttypes.h",130,0,0,0
  63               		.stabs	"/usr/lib/gcc/avr/4.9.2/include/stdint.h",130,0,0,0
  64               		.stabs	"/usr/lib/avr/include/stdint.h",130,0,0,0
  65               		.stabs	"int8_t:t(6,1)=(0,10)",128,0,121,0
  66               		.stabs	"uint8_t:t(6,2)=(0,11)",128,0,122,0
  67               		.stabs	"int16_t:t(6,3)=(0,1)",128,0,123,0
  68               		.stabs	"uint16_t:t(6,4)=(0,4)",128,0,124,0
  69               		.stabs	"int32_t:t(6,5)=(0,3)",128,0,125,0
  70               		.stabs	"uint32_t:t(6,6)=(0,5)",128,0,126,0
  71               		.stabs	"int64_t:t(6,7)=(0,6)",128,0,128,0
  72               		.stabs	"uint64_t:t(6,8)=(0,7)",128,0,129,0
  73               		.stabs	"intptr_t:t(6,9)=(6,3)",128,0,142,0
  74               		.stabs	"uintptr_t:t(6,10)=(6,4)",128,0,147,0
  75               		.stabs	"int_least8_t:t(6,11)=(6,1)",128,0,159,0
  76               		.stabs	"uint_least8_t:t(6,12)=(6,2)",128,0,164,0
  77               		.stabs	"int_least16_t:t(6,13)=(6,3)",128,0,169,0
  78               		.stabs	"uint_least16_t:t(6,14)=(6,4)",128,0,174,0
  79               		.stabs	"int_least32_t:t(6,15)=(6,5)",128,0,179,0
  80               		.stabs	"uint_least32_t:t(6,16)=(6,6)",128,0,184,0
  81               		.stabs	"int_least64_t:t(6,17)=(6,7)",128,0,192,0
  82               		.stabs	"uint_least64_t:t(6,18)=(6,8)",128,0,199,0
  83               		.stabs	"int_fast8_t:t(6,19)=(6,1)",128,0,213,0
  84               		.stabs	"uint_fast8_t:t(6,20)=(6,2)",128,0,218,0
  85               		.stabs	"int_fast16_t:t(6,21)=(6,3)",128,0,223,0
  86               		.stabs	"uint_fast16_t:t(6,22)=(6,4)",128,0,228,0
  87               		.stabs	"int_fast32_t:t(6,23)=(6,5)",128,0,233,0
  88               		.stabs	"uint_fast32_t:t(6,24)=(6,6)",128,0,238,0
  89               		.stabs	"int_fast64_t:t(6,25)=(6,7)",128,0,246,0
  90               		.stabs	"uint_fast64_t:t(6,26)=(6,8)",128,0,253,0
  91               		.stabs	"intmax_t:t(6,27)=(6,7)",128,0,273,0
  92               		.stabs	"uintmax_t:t(6,28)=(6,8)",128,0,278,0
  93               		.stabn	162,0,0,0
  94               		.stabn	162,0,0,0
  95               		.stabs	"int_farptr_t:t(4,1)=(6,5)",128,0,77,0
  96               		.stabs	"uint_farptr_t:t(4,2)=(6,6)",128,0,81,0
  97               		.stabn	162,0,0,0
  98               		.stabn	162,0,0,0
  99               		.stabs	"/usr/lib/avr/include/avr/fuse.h",130,0,0,0
 100               		.stabs	"__fuse_t:t(7,1)=(7,2)=s2low:(0,11),0,8;high:(0,11),8,8;;",128,0,252,0
 101               		.stabn	162,0,0,0
 102               		.stabn	162,0,0,0
 103               		.stabs	"/usr/lib/avr/include/avr/pgmspace.h",130,0,0,0
 104               		.stabs	"/usr/lib/gcc/avr/4.9.2/include/stddef.h",130,0,0,0
 105               		.stabs	"size_t:t(9,1)=(0,4)",128,0,212,0
 106               		.stabn	162,0,0,0
 107               		.stabn	162,0,0,0
 108               		.stabs	"/usr/lib/avr/include/stdlib.h",130,0,0,0
 109               		.stabs	"/usr/lib/gcc/avr/4.9.2/include/stddef.h",130,0,0,0
 110               		.stabs	"wchar_t:t(11,1)=(0,1)",128,0,324,0
 111               		.stabn	162,0,0,0
 112               		.stabs	"div_t:t(10,1)=(10,2)=s4quot:(0,1),0,16;rem:(0,1),16,16;;",128,0,71,0
 113               		.stabs	"ldiv_t:t(10,3)=(10,4)=s8quot:(0,3),0,32;rem:(0,3),32,32;;",128,0,77,0
 114               		.stabs	"__compar_fn_t:t(10,5)=(10,6)=*(10,7)=f(0,1)",128,0,80,0
GAS LISTING /tmp/ccFQmyVe.s 			page 3


 115               		.stabn	162,0,0,0
 116               		.stabs	"voidFuncPtr:t(1,1)=(1,2)=*(1,3)=f(0,47)",128,0,343,0
 117               		.stabn	162,0,0,0
 118               		.section	.text.InitUltrasonics,"ax",@progbits
 119               		.stabs	"InitUltrasonics:F(0,47)",36,0,34,InitUltrasonics
 120               	.global	InitUltrasonics
 121               		.type	InitUltrasonics, @function
 122               	InitUltrasonics:
 123               		.stabd	46,0,0
   1:./lib/ultrasonic.c **** /****************************************************************************/
   2:./lib/ultrasonic.c **** /*!
   3:./lib/ultrasonic.c ****   \file     ultrasonic.c
   4:./lib/ultrasonic.c **** 
   5:./lib/ultrasonic.c ****   \brief    Funktionen zur Ultraschall Erweiterung.
   6:./lib/ultrasonic.c **** 
   7:./lib/ultrasonic.c ****   \version  V001 - 10.01.2005 - Robin Gruber - DLR\n
   8:./lib/ultrasonic.c ****             Original Version aus dem Asuro Buch Band 1\n
   9:./lib/ultrasonic.c ****   \version  V002 - 28.07.2005 - Lutz Mager (luma)\n
  10:./lib/ultrasonic.c ****             Umbau auf InitUltrasonics, RestoreAsuro und Chirp Funktion  
  11:./lib/ultrasonic.c ****   \version  V003 - 17.04.2006 - RN-User dopez/madman2k\n
  12:./lib/ultrasonic.c ****             Patch Version fuer neue Asuro Lib
  13:./lib/ultrasonic.c ****   \version  V004 - 22.01.2008 - m.a.r.v.i.n\n
  14:./lib/ultrasonic.c ****             Magic Numbers ersetzt durch IO Register Defines\n
  15:./lib/ultrasonic.c ****             Anpassung an ATmega168
  16:./lib/ultrasonic.c **** 
  17:./lib/ultrasonic.c **** *****************************************************************************/
  18:./lib/ultrasonic.c **** /*****************************************************************************
  19:./lib/ultrasonic.c **** *                                                                            *
  20:./lib/ultrasonic.c **** *   This program is free software; you can redistribute it and/or modify     *
  21:./lib/ultrasonic.c **** *   it under the terms of the GNU General Public License as published by     *
  22:./lib/ultrasonic.c **** *   the Free Software Foundation; either version 2 of the License, or        *
  23:./lib/ultrasonic.c **** *   any later version.                                                       *
  24:./lib/ultrasonic.c **** *                                                                            *
  25:./lib/ultrasonic.c **** *****************************************************************************/
  26:./lib/ultrasonic.c **** 
  27:./lib/ultrasonic.c **** #include "asuro.h"
  28:./lib/ultrasonic.c **** #include "ultrasonic.h"
  29:./lib/ultrasonic.c **** 
  30:./lib/ultrasonic.c **** /**
  31:./lib/ultrasonic.c ****  * initialises the Ultrasonic module
  32:./lib/ultrasonic.c ****  * this function is automaticly called by Chirp
  33:./lib/ultrasonic.c ****  */
  34:./lib/ultrasonic.c **** void InitUltrasonics(void)
  35:./lib/ultrasonic.c **** {
 124               		.stabn	68,0,35,.LM0-.LFBB1
 125               	.LM0:
 126               	.LFBB1:
 127               	/* prologue: function */
 128               	/* frame size = 0 */
 129               	/* stack size = 0 */
 130               	.L__stack_usage = 0
  36:./lib/ultrasonic.c **** 	// Change Oscillator-frequency of Timer 2
  37:./lib/ultrasonic.c **** 	// to 40kHz, no toggling of IO-pin:
  38:./lib/ultrasonic.c ****   cli();
 131               		.stabn	68,0,38,.LM1-.LFBB1
 132               	.LM1:
 133               	/* #APP */
GAS LISTING /tmp/ccFQmyVe.s 			page 4


 134               	 ;  38 "./lib/ultrasonic.c" 1
 135 0000 F894      		cli
 136               	 ;  0 "" 2
  39:./lib/ultrasonic.c **** #if defined(__AVR_ATmega168__)
  40:./lib/ultrasonic.c ****   // fast PWM, set OC2A on compare match, clear OC2A at bottom, clk/1
  41:./lib/ultrasonic.c ****   TCCR2A = _BV(WGM21);
  42:./lib/ultrasonic.c ****   TCCR2B = _BV(CS20);
  43:./lib/ultrasonic.c ****   // interrupt on timer overflow
  44:./lib/ultrasonic.c ****   TIMSK2 &= ~_BV(TOIE2); 
  45:./lib/ultrasonic.c ****   TIMSK2 |= _BV(OCIE2A); 
  46:./lib/ultrasonic.c **** #else
  47:./lib/ultrasonic.c ****   TCCR2  = _BV(WGM21) | _BV(CS20);
 137               		.stabn	68,0,47,.LM2-.LFBB1
 138               	.LM2:
 139               	/* #NOAPP */
 140 0002 89E0      		ldi r24,lo8(9)
 141 0004 85BD      		out 0x25,r24
  48:./lib/ultrasonic.c ****   TIMSK &= ~_BV(TOIE2); 
 142               		.stabn	68,0,48,.LM3-.LFBB1
 143               	.LM3:
 144 0006 89B7      		in r24,0x39
 145 0008 8F7B      		andi r24,lo8(-65)
 146 000a 89BF      		out 0x39,r24
  49:./lib/ultrasonic.c **** 	TIMSK |= _BV(OCIE2);       // OCIE2:  Timer/Counter2 Output Compare Match Interrupt Enable
 147               		.stabn	68,0,49,.LM4-.LFBB1
 148               	.LM4:
 149 000c 89B7      		in r24,0x39
 150 000e 8068      		ori r24,lo8(-128)
 151 0010 89BF      		out 0x39,r24
  50:./lib/ultrasonic.c **** #endif	
  51:./lib/ultrasonic.c ****   // 40kHz carrier/timer
  52:./lib/ultrasonic.c ****   OCR2 = 100;
 152               		.stabn	68,0,52,.LM5-.LFBB1
 153               	.LM5:
 154 0012 84E6      		ldi r24,lo8(100)
 155 0014 83BD      		out 0x23,r24
  53:./lib/ultrasonic.c **** 
  54:./lib/ultrasonic.c ****   ADCSRA = 0;      // deactivate ADC
 156               		.stabn	68,0,54,.LM6-.LFBB1
 157               	.LM6:
 158 0016 16B8      		out 0x6,__zero_reg__
  55:./lib/ultrasonic.c **** 	ACSR  |= _BV(ACIS1);       // Comparator Interrupt on Falling Output Edge
 159               		.stabn	68,0,55,.LM7-.LFBB1
 160               	.LM7:
 161 0018 419A      		sbi 0x8,1
  56:./lib/ultrasonic.c **** 
  57:./lib/ultrasonic.c **** 	ADMUX  = 0x03;             // connect ADC3-input with comparator
 162               		.stabn	68,0,57,.LM8-.LFBB1
 163               	.LM8:
 164 001a 83E0      		ldi r24,lo8(3)
 165 001c 87B9      		out 0x7,r24
  58:./lib/ultrasonic.c **** #if defined(__AVR_ATmega168__)
  59:./lib/ultrasonic.c **** 	ADCSRB |= _BV(ACME);        // connect ADC multiplexer to comparator
  60:./lib/ultrasonic.c **** #else
  61:./lib/ultrasonic.c **** 	SFIOR |= _BV(ACME);        // connect ADC multiplexer to comparator
 166               		.stabn	68,0,61,.LM9-.LFBB1
 167               	.LM9:
GAS LISTING /tmp/ccFQmyVe.s 			page 5


 168 001e 80B7      		in r24,0x30
 169 0020 8860      		ori r24,lo8(8)
 170 0022 80BF      		out 0x30,r24
  62:./lib/ultrasonic.c **** #endif
  63:./lib/ultrasonic.c ****   DDRD  &= ~_BV(6);          // use Port D Pin 6 as input (AIN0)
 171               		.stabn	68,0,63,.LM10-.LFBB1
 172               	.LM10:
 173 0024 8E98      		cbi 0x11,6
  64:./lib/ultrasonic.c ****   sei();
 174               		.stabn	68,0,64,.LM11-.LFBB1
 175               	.LM11:
 176               	/* #APP */
 177               	 ;  64 "./lib/ultrasonic.c" 1
 178 0026 7894      		sei
 179               	 ;  0 "" 2
 180               	/* #NOAPP */
 181 0028 0895      		ret
 182               		.size	InitUltrasonics, .-InitUltrasonics
 183               	.Lscope1:
 184               		.stabs	"",36,0,0,.Lscope1-.LFBB1
 185               		.stabd	78,0,0
 186               		.section	.text.RestoreAsuro,"ax",@progbits
 187               		.stabs	"RestoreAsuro:F(0,47)",36,0,71,RestoreAsuro
 188               	.global	RestoreAsuro
 189               		.type	RestoreAsuro, @function
 190               	RestoreAsuro:
 191               		.stabd	46,0,0
  65:./lib/ultrasonic.c **** }
  66:./lib/ultrasonic.c **** 
  67:./lib/ultrasonic.c **** /**
  68:./lib/ultrasonic.c ****  * restores the hardware after using the Ultrasonic module
  69:./lib/ultrasonic.c ****  * this function is called automaticly after a Chirp
  70:./lib/ultrasonic.c ****  */
  71:./lib/ultrasonic.c **** void RestoreAsuro(void)
  72:./lib/ultrasonic.c **** {
 192               		.stabn	68,0,72,.LM12-.LFBB2
 193               	.LM12:
 194               	.LFBB2:
 195               	/* prologue: function */
 196               	/* frame size = 0 */
 197               	/* stack size = 0 */
 198               	.L__stack_usage = 0
  73:./lib/ultrasonic.c ****   cli();
 199               		.stabn	68,0,73,.LM13-.LFBB2
 200               	.LM13:
 201               	/* #APP */
 202               	 ;  73 "./lib/ultrasonic.c" 1
 203 0000 F894      		cli
 204               	 ;  0 "" 2
  74:./lib/ultrasonic.c **** #if defined(__AVR_ATmega168__)
  75:./lib/ultrasonic.c ****   // fast PWM, set OC2A on compare match, clear OC2A at bottom, clk/1
  76:./lib/ultrasonic.c ****   TCCR2A = _BV(WGM20) | _BV(WGM21) | _BV(COM2A0) | _BV(COM2A1);
  77:./lib/ultrasonic.c ****   TCCR2B = _BV(CS20);
  78:./lib/ultrasonic.c ****   TIMSK2 &= ~_BV(OCIE2A); 
  79:./lib/ultrasonic.c ****   // interrupt on timer overflow
  80:./lib/ultrasonic.c ****   TIMSK2 |= _BV(TOIE2); 
  81:./lib/ultrasonic.c **** #else
GAS LISTING /tmp/ccFQmyVe.s 			page 6


  82:./lib/ultrasonic.c ****   TCCR2 = _BV(WGM20) | _BV(WGM21) | _BV(COM20) | _BV(COM21) | _BV(CS20);
 205               		.stabn	68,0,82,.LM14-.LFBB2
 206               	.LM14:
 207               	/* #NOAPP */
 208 0002 89E7      		ldi r24,lo8(121)
 209 0004 85BD      		out 0x25,r24
  83:./lib/ultrasonic.c **** 	TIMSK &= ~_BV(OCIE2);     // OCIE2:  Timer/Counter2 Output Compare Match Interrupt Disable
 210               		.stabn	68,0,83,.LM15-.LFBB2
 211               	.LM15:
 212 0006 89B7      		in r24,0x39
 213 0008 8F77      		andi r24,lo8(127)
 214 000a 89BF      		out 0x39,r24
  84:./lib/ultrasonic.c ****   // interrupt on timer overflow
  85:./lib/ultrasonic.c ****   TIMSK |= _BV(TOIE2); 
 215               		.stabn	68,0,85,.LM16-.LFBB2
 216               	.LM16:
 217 000c 89B7      		in r24,0x39
 218 000e 8064      		ori r24,lo8(64)
 219 0010 89BF      		out 0x39,r24
  86:./lib/ultrasonic.c **** #endif
  87:./lib/ultrasonic.c ****   // 36kHz carrier/timer
  88:./lib/ultrasonic.c **** 	OCR2  = 0x91;              // duty cycle for 36kHz
 220               		.stabn	68,0,88,.LM17-.LFBB2
 221               	.LM17:
 222 0012 81E9      		ldi r24,lo8(-111)
 223 0014 83BD      		out 0x23,r24
  89:./lib/ultrasonic.c **** 
  90:./lib/ultrasonic.c ****   ADCSRA = _BV(ADEN) | _BV(ADPS2) | _BV(ADPS1); // clk/64
 224               		.stabn	68,0,90,.LM18-.LFBB2
 225               	.LM18:
 226 0016 86E8      		ldi r24,lo8(-122)
 227 0018 86B9      		out 0x6,r24
  91:./lib/ultrasonic.c **** 	ACSR  &= ~_BV(ACIS1);
 228               		.stabn	68,0,91,.LM19-.LFBB2
 229               	.LM19:
 230 001a 4198      		cbi 0x8,1
  92:./lib/ultrasonic.c **** 
  93:./lib/ultrasonic.c **** 	if(autoencode) {
 231               		.stabn	68,0,93,.LM20-.LFBB2
 232               	.LM20:
 233 001c 8091 0000 		lds r24,autoencode
 234 0020 9091 0000 		lds r25,autoencode+1
 235 0024 892B      		or r24,r25
 236 0026 01F0      		breq .L3
  94:./lib/ultrasonic.c **** 		EncoderInit();
 237               		.stabn	68,0,94,.LM21-.LFBB2
 238               	.LM21:
 239 0028 00D0      		rcall EncoderInit
 240               	.L3:
  95:./lib/ultrasonic.c **** 	}
  96:./lib/ultrasonic.c **** 	sei();
 241               		.stabn	68,0,96,.LM22-.LFBB2
 242               	.LM22:
 243               	/* #APP */
 244               	 ;  96 "./lib/ultrasonic.c" 1
 245 002a 7894      		sei
 246               	 ;  0 "" 2
GAS LISTING /tmp/ccFQmyVe.s 			page 7


  97:./lib/ultrasonic.c **** 	Sleep(1);
 247               		.stabn	68,0,97,.LM23-.LFBB2
 248               	.LM23:
 249               	/* #NOAPP */
 250 002c 81E0      		ldi r24,lo8(1)
 251 002e 00C0      		rjmp Sleep
 252               		.size	RestoreAsuro, .-RestoreAsuro
 253               	.Lscope2:
 254               		.stabs	"",36,0,0,.Lscope2-.LFBB2
 255               		.stabd	78,0,0
 256               		.section	.text.Chirp,"ax",@progbits
 257               		.stabs	"Chirp:F(0,1)",36,0,103,Chirp
 258               	.global	Chirp
 259               		.type	Chirp, @function
 260               	Chirp:
 261               		.stabd	46,0,0
  98:./lib/ultrasonic.c **** }
  99:./lib/ultrasonic.c **** 
 100:./lib/ultrasonic.c **** /**
 101:./lib/ultrasonic.c ****  * @return distance in cm
 102:./lib/ultrasonic.c ****  */
 103:./lib/ultrasonic.c **** int Chirp(void)
 104:./lib/ultrasonic.c **** {
 262               		.stabn	68,0,104,.LM24-.LFBB3
 263               	.LM24:
 264               	.LFBB3:
 265 0000 CF93      		push r28
 266 0002 DF93      		push r29
 267               	/* prologue: function */
 268               	/* frame size = 0 */
 269               	/* stack size = 2 */
 270               	.L__stack_usage = 2
 105:./lib/ultrasonic.c **** 	unsigned int sleeptime = 0, dist = 0;
 106:./lib/ultrasonic.c **** 
 107:./lib/ultrasonic.c **** 	InitUltrasonics();
 271               		.stabn	68,0,107,.LM25-.LFBB3
 272               	.LM25:
 273 0004 00D0      		rcall InitUltrasonics
 108:./lib/ultrasonic.c **** 
 109:./lib/ultrasonic.c **** 	// chirpen:
 110:./lib/ultrasonic.c **** 	count36kHz = 0;
 274               		.stabn	68,0,110,.LM26-.LFBB3
 275               	.LM26:
 276 0006 1092 0000 		sts count36kHz,__zero_reg__
 111:./lib/ultrasonic.c **** 
 112:./lib/ultrasonic.c **** 	while(count36kHz != 20) {
 113:./lib/ultrasonic.c **** 		OCR2 = 100 + 20 / 2 - count36kHz;
 277               		.stabn	68,0,113,.LM27-.LFBB3
 278               	.LM27:
 279 000a 9EE6      		ldi r25,lo8(110)
 280               	.L9:
 112:./lib/ultrasonic.c **** 		OCR2 = 100 + 20 / 2 - count36kHz;
 281               		.stabn	68,0,112,.LM28-.LFBB3
 282               	.LM28:
 283 000c 8091 0000 		lds r24,count36kHz
 284 0010 8431      		cpi r24,lo8(20)
 285 0012 01F0      		breq .L15
GAS LISTING /tmp/ccFQmyVe.s 			page 8


 286               		.stabn	68,0,113,.LM29-.LFBB3
 287               	.LM29:
 288 0014 8091 0000 		lds r24,count36kHz
 289 0018 292F      		mov r18,r25
 290 001a 281B      		sub r18,r24
 291 001c 23BD      		out 0x23,r18
 292 001e 00C0      		rjmp .L9
 293               	.L15:
 114:./lib/ultrasonic.c **** 	}
 115:./lib/ultrasonic.c **** 
 116:./lib/ultrasonic.c **** #if defined(__AVR_ATmega168__)
 117:./lib/ultrasonic.c ****   TCCR2A = _BV(WGM21);
 118:./lib/ultrasonic.c ****   TCCR2B = _BV(CS20);
 119:./lib/ultrasonic.c **** #else
 120:./lib/ultrasonic.c **** 	TCCR2	= _BV(WGM21) | _BV(CS20);
 294               		.stabn	68,0,120,.LM30-.LFBB3
 295               	.LM30:
 296 0020 89E0      		ldi r24,lo8(9)
 297 0022 85BD      		out 0x25,r24
 121:./lib/ultrasonic.c **** #endif
 122:./lib/ultrasonic.c ****   OCR2	= 100;
 298               		.stabn	68,0,122,.LM31-.LFBB3
 299               	.LM31:
 300 0024 84E6      		ldi r24,lo8(100)
 301 0026 83BD      		out 0x23,r24
 105:./lib/ultrasonic.c **** 
 302               		.stabn	68,0,105,.LM32-.LFBB3
 303               	.LM32:
 304 0028 C0E0      		ldi r28,0
 305 002a D0E0      		ldi r29,0
 306               	.L13:
 123:./lib/ultrasonic.c **** 
 124:./lib/ultrasonic.c **** 	// analyse echoes:
 125:./lib/ultrasonic.c **** 	while(TRUE) {
 126:./lib/ultrasonic.c **** 		Sleep(1);
 307               		.stabn	68,0,126,.LM33-.LFBB3
 308               	.LM33:
 309 002c 81E0      		ldi r24,lo8(1)
 310 002e 00D0      		rcall Sleep
 127:./lib/ultrasonic.c **** 		sleeptime++;
 311               		.stabn	68,0,127,.LM34-.LFBB3
 312               	.LM34:
 313 0030 2196      		adiw r28,1
 128:./lib/ultrasonic.c **** 
 129:./lib/ultrasonic.c **** 		if((ACSR & _BV(ACI))) {
 314               		.stabn	68,0,129,.LM35-.LFBB3
 315               	.LM35:
 316 0032 449B      		sbis 0x8,4
 317 0034 00C0      		rjmp .L11
 130:./lib/ultrasonic.c **** 			dist = (unsigned int) ((long) ((344L * ((sleeptime * 1000L) / 72L) / 10000L) / 2L));
 131:./lib/ultrasonic.c **** 			ACSR |= _BV(ACI);
 318               		.stabn	68,0,131,.LM36-.LFBB3
 319               	.LM36:
 320 0036 449A      		sbi 0x8,4
 132:./lib/ultrasonic.c **** 			break;
 133:./lib/ultrasonic.c **** 		}
 134:./lib/ultrasonic.c **** 		
GAS LISTING /tmp/ccFQmyVe.s 			page 9


 135:./lib/ultrasonic.c **** 		ACSR |= _BV(ACI);
 136:./lib/ultrasonic.c **** 		
 137:./lib/ultrasonic.c **** 		if(sleeptime > 3500) {
 138:./lib/ultrasonic.c **** 			return -1;
 139:./lib/ultrasonic.c **** 		}
 140:./lib/ultrasonic.c **** 	}
 141:./lib/ultrasonic.c **** 	
 142:./lib/ultrasonic.c **** 	RestoreAsuro();
 321               		.stabn	68,0,142,.LM37-.LFBB3
 322               	.LM37:
 323 0038 00D0      		rcall RestoreAsuro
 130:./lib/ultrasonic.c **** 			dist = (unsigned int) ((long) ((344L * ((sleeptime * 1000L) / 72L) / 10000L) / 2L));
 324               		.stabn	68,0,130,.LM38-.LFBB3
 325               	.LM38:
 326 003a 9E01      		movw r18,r28
 327 003c A8EE      		ldi r26,lo8(-24)
 328 003e B3E0      		ldi r27,lo8(3)
 329 0040 00D0      		rcall __umulhisi3
 330 0042 28E4      		ldi r18,lo8(72)
 331 0044 30E0      		ldi r19,0
 332 0046 40E0      		ldi r20,0
 333 0048 50E0      		ldi r21,0
 334 004a 00D0      		rcall __divmodsi4
 335 004c ACEA      		ldi r26,lo8(-84)
 336 004e B0E0      		ldi r27,0
 337 0050 00D0      		rcall __muluhisi3
 338 0052 20E1      		ldi r18,lo8(16)
 339 0054 37E2      		ldi r19,lo8(39)
 340 0056 40E0      		ldi r20,0
 341 0058 50E0      		ldi r21,0
 342 005a 00D0      		rcall __divmodsi4
 143:./lib/ultrasonic.c **** 	return dist;
 343               		.stabn	68,0,143,.LM39-.LFBB3
 344               	.LM39:
 345 005c C901      		movw r24,r18
 346 005e 00C0      		rjmp .L12
 347               	.L11:
 135:./lib/ultrasonic.c **** 		
 348               		.stabn	68,0,135,.LM40-.LFBB3
 349               	.LM40:
 350 0060 449A      		sbi 0x8,4
 137:./lib/ultrasonic.c **** 			return -1;
 351               		.stabn	68,0,137,.LM41-.LFBB3
 352               	.LM41:
 353 0062 CD3A      		cpi r28,-83
 354 0064 8DE0      		ldi r24,13
 355 0066 D807      		cpc r29,r24
 356 0068 01F4      		brne .L13
 138:./lib/ultrasonic.c **** 		}
 357               		.stabn	68,0,138,.LM42-.LFBB3
 358               	.LM42:
 359 006a 8FEF      		ldi r24,lo8(-1)
 360 006c 9FEF      		ldi r25,lo8(-1)
 361               	.L12:
 362               	/* epilogue start */
 144:./lib/ultrasonic.c **** }
 363               		.stabn	68,0,144,.LM43-.LFBB3
GAS LISTING /tmp/ccFQmyVe.s 			page 10


 364               	.LM43:
 365 006e DF91      		pop r29
 366 0070 CF91      		pop r28
 367 0072 0895      		ret
 368               		.size	Chirp, .-Chirp
 369               		.stabs	"sleeptime:r(0,4)",64,0,105,28
 370               		.stabn	192,0,0,.LFBB3-.LFBB3
 371               		.stabn	224,0,0,.Lscope3-.LFBB3
 372               	.Lscope3:
 373               		.stabs	"",36,0,0,.Lscope3-.LFBB3
 374               		.stabd	78,0,0
 375               		.text
 376               		.stabs	"",100,0,0,.Letext0
 377               	.Letext0:
 378               		.ident	"GCC: (GNU) 4.9.2"
GAS LISTING /tmp/ccFQmyVe.s 			page 11


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ultrasonic.c
     /tmp/ccFQmyVe.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccFQmyVe.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccFQmyVe.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccFQmyVe.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccFQmyVe.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccFQmyVe.s:122    .text.InitUltrasonics:0000000000000000 InitUltrasonics
     /tmp/ccFQmyVe.s:190    .text.RestoreAsuro:0000000000000000 RestoreAsuro
     /tmp/ccFQmyVe.s:260    .text.Chirp:0000000000000000 Chirp

UNDEFINED SYMBOLS
autoencode
EncoderInit
Sleep
count36kHz
__umulhisi3
__divmodsi4
__muluhisi3
